<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="final.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> KNOBS</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV>
<HR><P> | <A HREF="final-47.html">Next</A>|| <A HREF="final-45.html">Previous</A> || <A HREF="final.html">Top</A>  | </P>

</DIV>
<H1 CLASS="FM3d-order-node">
<A NAME="pgfId-255068"></A><STRONG CLASS="Bold">
KNOBS</STRONG><A NAME="95186"></A></H1>
<P CLASS="BodyText">
<A NAME="pgfId-255069"></A>This keyword data block is used to redefine parameters that affect convergence of the numerical method during speciation, batch-reaction, and transport calculations. It also provides the capability to produce long, uninterpretable output files. Hopefully, this data block is seldom used.</P>
<DIV>
<H3 CLASS="FM4thOrderHeading">
<A NAME="pgfId-255070"></A><STRONG CLASS="Bold">
Example data block</STRONG></H3>
<PRE CLASS="Body-line"><A NAME="pgfId-255071"></A>Line 0:  <STRONG CLASS="Bold">KNOBS</STRONG> 
<A NAME="pgfId-255072"></A>Line 1:       <STRONG CLASS="Bold">-iterations</STRONG>             150
<A NAME="pgfId-255073"></A>Line 2:       <STRONG CLASS="Bold">-convergence_tolerance</STRONG>  1e-8
<A NAME="pgfId-320898"></A>Line 3:       <STRONG CLASS="Bold">-tolerance</STRONG>              1e-14
<A NAME="pgfId-255074"></A>Line 4:       <STRONG CLASS="Bold">-step_size</STRONG>              10.
<A NAME="pgfId-255075"></A>Line 5:       <STRONG CLASS="Bold">-pe_step_size</STRONG>           5.
<A NAME="pgfId-255076"></A>Line 6:       <STRONG CLASS="Bold">-diagonal_scale</STRONG>         TRUE
<A NAME="pgfId-320980"></A>Line 7:       <STRONG CLASS="Bold">-debug_diffuse_layer    </STRONG>TRUE
<A NAME="pgfId-320986"></A>Line 8:       <STRONG CLASS="Bold">-debug_inverse</STRONG>          TRUE
<A NAME="pgfId-320992"></A>Line 9:       <STRONG CLASS="Bold">-debug_model</STRONG>            TRUE
<A NAME="pgfId-255078"></A>Line 10:      <STRONG CLASS="Bold">-debug_prep</STRONG>             TRUE
<A NAME="pgfId-255079"></A>Line 11:      <STRONG CLASS="Bold">-debug_set</STRONG>              TRUE
<A NAME="pgfId-255083"></A>Line 12:      <STRONG CLASS="Bold">-logfile </STRONG>               TRUE</PRE>
</DIV>
<DIV>
<H3 CLASS="FM4thOrderHeading">
<A NAME="pgfId-255084"></A><STRONG CLASS="Bold">
Explanation</STRONG></H3>
<P CLASS="Body-indent">
<A NAME="pgfId-255085"></A>Line 0: <STRONG CLASS="Bold">
KNOBS</STRONG></P>
<P CLASS="Body1">
<A NAME="pgfId-255086"></A><STRONG CLASS="Bold">
KNOBS</STRONG> is the keyword for the data block. Optionally, <STRONG CLASS="Bold">
DEBUG</STRONG>.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255087"></A>Line 1: <STRONG CLASS="Bold">
-iterations</STRONG> <EM CLASS="Emphasis">
iterations</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255088"></A><STRONG CLASS="Bold">
-iterations</STRONG>--Allows changing the maximum number of iterations. Optionally, <STRONG CLASS="Bold">
iterations</STRONG>, or <STRONG CLASS="Bold">
-i</STRONG>[<STRONG CLASS="Bold">
terations</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255089"></A><EM CLASS="Emphasis">
iterations</EM>
--Positive integer limiting the maximum number of iterations used to solve the set of algebraic equations for a single calculation. Values greater than 200 are not usually effective. Default is 100.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-320900"></A>Line 2: <STRONG CLASS="Bold">
-convergence_tolerance </STRONG><EM CLASS="Emphasis">
convergence_tolerance</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-320901"></A><STRONG CLASS="Bold">
-convergence_tolerance</STRONG>--Changes the convergence criterion used to determine when the algebraic equations have been solved. For an element mole-balance equation, convergence is satisfied when mole balance is within <EM CLASS="Emphasis">
convergence_tolerance</EM>
 times the total moles of the element (<IMG SRC="final-719.jpg" ALIGN="MIDDLE">
). When the <STRONG CLASS="Bold">
-high_precision</STRONG> identifier of <STRONG CLASS="Bold">
<A HREF="final-54.html#20239" CLASS="XRef">SELECTED_OUTPUT</A></STRONG> is used, the convergence criterion is set to the smaller of <EM CLASS="Emphasis">
convergence_tolerance</EM>
 and 1e-12. Default is 1e-8. Optionally, <STRONG CLASS="Bold">
convergence_tolerance</STRONG>, or <STRONG CLASS="Bold">
-c</STRONG>[<STRONG CLASS="Bold">
onvergence_tolerance</STRONG>].</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255090"></A>Line 3: <STRONG CLASS="Bold">
-tolerance </STRONG><EM CLASS="Emphasis">
tolerance</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255091"></A><STRONG CLASS="Bold">
-tolerance</STRONG>--Allows changing the tolerance used by the optimization solver (subroutine Cl1) to determine numbers equal to zero. This is <EM CLASS="underline">
not</EM>
 the convergence criterion used to determine when the algebraic equations have been solved. Optionally, <STRONG CLASS="Bold">
tolerance</STRONG>, or <STRONG CLASS="Bold">
-t</STRONG>[<STRONG CLASS="Bold">
olerance</STRONG>]. </P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255092"></A><EM CLASS="Emphasis">
tolerance</EM>
--Positive, decimal number used by the optimization solver (subroutine cl1). All numbers smaller than this number are treated as zero. This number should approach the value of the least significant decimal digit that can be interpreted by the computer. The value of tolerance should be on the order of 1e-12 to 1e-15 for most computers and most simulations. Default is 1e-15 (or possibly smaller if the program is compiled with long double precision).</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255093"></A>Line 4: <STRONG CLASS="Bold">
-step_size </STRONG><EM CLASS="Emphasis">
step_size</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255094"></A><STRONG CLASS="Bold">
-step_size</STRONG>--Allows changing the maximum step size. Optionally, <STRONG CLASS="Bold">
step_size</STRONG>, or <STRONG CLASS="Bold">
-s</STRONG>[<STRONG CLASS="Bold">
tep_size</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255095"></A><EM CLASS="Emphasis">
step_size</EM>
--Positive, decimal number limiting the maximum, multiplicative change in the activity of an aqueous master species on each iteration. Default is 100, that is, activities of master species may change by up to 2 orders of magnitude in a single iteration.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255096"></A>Line 5: <STRONG CLASS="Bold">
-pe_step_size </STRONG><EM CLASS="Emphasis">
pe_step_size</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255097"></A><STRONG CLASS="Bold">
-pe_step_size</STRONG>--Allows changing the maximum step size for the activity of the electron. Optionally, <STRONG CLASS="Bold">
pe_step_size</STRONG>, or <STRONG CLASS="Bold">
-p</STRONG>[<STRONG CLASS="Bold">
e_step_size</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255098"></A><EM CLASS="Emphasis">
pe_step_size</EM>
--Positive, decimal number limiting the maximum, multiplicative change in the conventional activity of electrons on each iteration. Normally, <EM CLASS="Emphasis">
pe_step_size</EM>
 should be smaller than the <EM CLASS="Emphasis">
step_size</EM>
, because redox species are particularly sensitive to changes in pe. Default is 10, that is, <IMG SRC="final-720.jpg" ALIGN="MIDDLE">
 may change by up to 1 order of magnitude in a single iteration or pe may change by up to 1 unit.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255102"></A>Line 6: <STRONG CLASS="Bold">
-diagonal_scale</STRONG> [(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255103"></A><STRONG CLASS="Bold">
-diagonal_scale</STRONG>--Allows changing the default method for scaling equations. Optionally, <STRONG CLASS="Bold">
diagonal_scale</STRONG>, or <STRONG CLASS="Bold">
-d</STRONG>[<STRONG CLASS="Bold">
iagonal_scale</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255104"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates the alternative scaling method is to be used; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates the alternative scaling method will not be used. If neither <STRONG CLASS="Bold">
true </STRONG>nor<STRONG CLASS="Bold">
 false </STRONG>are entered, <STRONG CLASS="Bold">
true </STRONG>is assumed. At the beginning of the run, the value is set to <STRONG CLASS="Bold">
false</STRONG>. Invoking this alternative method of scaling causes any mole-balance equations with the diagonal element (approximately the total concentration of the element or element valence state in solution) less than 1e-11 to be scaled by the factor 1e-11/(diagonal element).</P>
<P CLASS="Body-indent">
<A NAME="pgfId-321014"></A>Line 7: <STRONG CLASS="Bold">
-debug_diffuse_layer </STRONG>[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-321015"></A><STRONG CLASS="Bold">
-debug_diffuse_layer</STRONG>--Includes debugging prints for diffuse layer calculations. This identifier applies only when <STRONG CLASS="Bold">
-diffuse_layer</STRONG> is used in the <STRONG CLASS="Bold">
<A HREF="final-60.html#56392" CLASS="XRef">SURFACE</A></STRONG> data block. Optionally, <STRONG CLASS="Bold">
debug_diffuse_layer</STRONG> or <STRONG CLASS="Bold">
-debug_d</STRONG>[<STRONG CLASS="Bold">
iffuse_layer</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-321019"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true </STRONG>nor<STRONG CLASS="Bold">
 false </STRONG>is entered, a value of <STRONG CLASS="Bold">
true</STRONG> is assumed. At the start of the program, the default value is <STRONG CLASS="Bold">
false</STRONG>. If this option is set to <STRONG CLASS="Bold">
true</STRONG>, values of the <EM CLASS="Emphasis">
g</EM>
 function--the surface excess--are printed for each value of charge for aqueous species, the charge(s) for which the value of <EM CLASS="Emphasis">
g</EM>
 has not converged are printed, and the number of iterations needed for the integration, by which <EM CLASS="Emphasis">
g</EM>
 values are calculated, are printed</P>
<P CLASS="Body-indent">
<A NAME="pgfId-321006"></A>Line 8: <STRONG CLASS="Bold">
-debug_inverse </STRONG>[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-321007"></A><STRONG CLASS="Bold">
-debug_inverse</STRONG>--Includes debugging prints for subroutines called by subroutine <EM CLASS="Emphasis">
inverse_models</EM>
. Optionally, <STRONG CLASS="Bold">
debug_inverse </STRONG>or <STRONG CLASS="Bold">
-debug_i</STRONG>[<STRONG CLASS="Bold">
nverse</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-321008"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true </STRONG>nor<STRONG CLASS="Bold">
 false </STRONG>is entered, a value of <STRONG CLASS="Bold">
true</STRONG> is assumed. At the start of the program, the default value is <STRONG CLASS="Bold">
false</STRONG>. If this option is set to <STRONG CLASS="Bold">
true</STRONG>, a large amount of information about the process of finding inverse models is printed. The program will print the following for each set of equations and inequalities that are attempted to be solved by the optimizing solver: a list of the unknowns, a list of the equations, the array that is to be solved, any nonnegativity or nonpositivity constraints on the unknowns, the solution vector, and the residual vector for the linear equations and inequality constraints. The printout is very long and very tedious.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-320998"></A>Line 9: <STRONG CLASS="Bold">
-debug_model </STRONG>[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-320999"></A><STRONG CLASS="Bold">
-debug_model</STRONG>--Includes debugging prints for subroutines called by subroutine <EM CLASS="Emphasis">
model</EM>
. Optionally, <STRONG CLASS="Bold">
debug_model</STRONG> or <STRONG CLASS="Bold">
-debug_m</STRONG>[<STRONG CLASS="Bold">
odel</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-321000"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true </STRONG>nor<STRONG CLASS="Bold">
 false </STRONG>is entered, a value of <STRONG CLASS="Bold">
true</STRONG> is assumed. At the start of the program, the default value is <STRONG CLASS="Bold">
false</STRONG>. If this option is set to <STRONG CLASS="Bold">
true</STRONG>, a large amount of information about the Newton-Raphson equations is printed. The program will print some or all of the following at each iteration: the array that is solved, the solution vector calculated by the solver, the residuals of the linear equations and inequality constraints, the values of all of the master unknowns and their change, the moles of each pure phase and phase mole transfers, the moles of each element in the system minus the amount in pure phases and the change in this quantity. The printout is very long and very tedious. If the numerical method does not converge in <EM CLASS="Emphasis">
iterations</EM>
-1 iterations (default is after 99 iterations), this printout is automatically begun and sent to the log file <EM CLASS="Emphasis">
phreeqc.log</EM>
.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255108"></A>Line 10: <STRONG CLASS="Bold">
-debug_prep </STRONG>[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255109"></A><STRONG CLASS="Bold">
-debug_prep</STRONG>--Includes debugging prints for subroutine <EM CLASS="Emphasis">
prep</EM>
. Optionally, <STRONG CLASS="Bold">
debug_prep</STRONG> or <STRONG CLASS="Bold">
-debug_p</STRONG>[<STRONG CLASS="Bold">
rep</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255110"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true </STRONG>nor<STRONG CLASS="Bold">
 false </STRONG>is entered, a value of <STRONG CLASS="Bold">
true</STRONG> is assumed. At the start of the program, the default value is <STRONG CLASS="Bold">
false</STRONG>. If this option is set to <STRONG CLASS="Bold">
true</STRONG>, the chemical equation and log <EM CLASS="Emphasis">
K</EM>
 for each species and phase, as rewritten for the current calculation, are written to the output file. The printout is long and tedious.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255111"></A>Line 11: <STRONG CLASS="Bold">
-debug_set </STRONG>[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255112"></A><STRONG CLASS="Bold">
-debug_set</STRONG>--Includes debugging prints for subroutines called by subroutine <EM CLASS="Emphasis">
set</EM>
. Optionally, <STRONG CLASS="Bold">
debug_set</STRONG> or <STRONG CLASS="Bold">
-debug_s</STRONG>[<STRONG CLASS="Bold">
et</STRONG>].</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255113"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true </STRONG>nor<STRONG CLASS="Bold">
 false </STRONG>is entered, a value of <STRONG CLASS="Bold">
true</STRONG> is assumed. At the start of the program, the default value is <STRONG CLASS="Bold">
false</STRONG>. If this option is set to <STRONG CLASS="Bold">
true</STRONG>, the initial revisions of the master unknowns (see equation <A HREF="final-12.html#11382" CLASS="XRef">84</A>), which occur in subroutine set, are printed for each element or element valence state that fails the initial convergence criteria. The initial revisions occur before the Newton-Raphson method is invoked and attempt to provide good estimates of the master unknowns to the Newton-Raphson method. The printout is tedious.</P>
<P CLASS="Body-indent">
<A NAME="pgfId-255123"></A>Line 12: <STRONG CLASS="Bold">
-logfile </STRONG>[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255124"></A><STRONG CLASS="Bold">
-logfile</STRONG>--Prints information to a file named <EM CLASS="Emphasis">
phreeqc.log</EM>
. Optionally, <STRONG CLASS="Bold">
logfile </STRONG>or <STRONG CLASS="Bold">
-l</STRONG>[<STRONG CLASS="Bold">
ogfile</STRONG>]. </P>
<P CLASS="Body1-indent">
<A NAME="pgfId-255125"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG> (optionally,<STRONG CLASS="Bold">
 t</STRONG>[<STRONG CLASS="Bold">
rue</STRONG>]) indicates information will be written to the log file, <EM CLASS="Emphasis">
phreeqc.log</EM>
; <STRONG CLASS="Bold">
false</STRONG> (optionally, <STRONG CLASS="Bold">
f</STRONG>[<STRONG CLASS="Bold">
alse</STRONG>]) indicates information will not be written. If neither <STRONG CLASS="Bold">
true n</STRONG>or<STRONG CLASS="Bold">
 false </STRONG>is entered, a value of <STRONG CLASS="Bold">
true</STRONG> is assumed. At the start of the program, the default value is <STRONG CLASS="Bold">
false</STRONG>. If this option is set to <STRONG CLASS="Bold">
true</STRONG>, information about each calculation will be written to the log file. The information includes number of iterations in revising the initial estimates of the master unknowns, the number of Newton-Raphson iterations, and the iteration at which any infeasible solution was encountered while solving the system of nonlinear equations. (An infeasible solution occurs if no solution to the equality and inequality constraints can be found.) At each iteration, the identity of any species that exceeds 30 mol (an unreasonably large number) is written to the log file and noted as an &quot;overflow&quot;. Any basis switches are noted in the log file. The information about infeasible solutions and overflows can be useful for altering other parameters defined through the <STRONG CLASS="Bold">
KNOBS</STRONG> data block, as described below.</P>
</DIV>
<DIV>
<H3 CLASS="FM4thOrderHeading">
<A NAME="pgfId-255126"></A><STRONG CLASS="Bold">
Notes</STRONG></H3>
<P CLASS="BodyText">
<A NAME="pgfId-255127"></A>Convergence problems are less frequent with PHREEQC than with PHREEQE; however, they may still occur. The main causes of nonconvergence appear to be (1) calculation of very large molalities in intermediate iterations (2) accumulation of roundoff errors in simulations involving very small concentrations of elements in solution, and (3) loss of precision in problems with no redox buffering. The first cause can be identified by &quot;overflow&quot; messages at iteration 1 or greater that appear in the file <EM CLASS="Emphasis">
phreeqc.log </EM>
(see <STRONG CLASS="Bold">
-logfile </STRONG>above). This problem can usually be eliminated by decreasing the maximum allowable step sizes from the default values. The second and third causes of nonconvergence can be identified by messages in <EM CLASS="Emphasis">
phreeqc.log</EM>
 that indicate &quot;infeasible solutions&quot;. The remedy to these problems is an ongoing investigation, but altering <STRONG CLASS="Bold">
-tolerance</STRONG> or <STRONG CLASS="Bold">
-diagonal_scaling </STRONG>sometimes fixes the problem, and it should be noted that the program attempts several combinations of these parameters automatically before terminating the calculations. Additional iterations (<STRONG CLASS="Bold">
-iterations</STRONG>) beyond 200 usually do not solve nonconvergence problems. A trick that is sometimes helpful with nonconvergence is to include the following fictitious aqueous species that has a concentration of about 1e-9 and produces terms in the charge-, hydrogen-, and oxygen-balance equations of a magnitude great enough for the solver to solve the equations:</P>
<PRE CLASS="Body-line"><A NAME="pgfId-255128"></A>&nbsp;
<A NAME="pgfId-255129"></A>SOLUTION_SPECIES
<A NAME="pgfId-255130"></A>H2O + 0.01e- = H2O-0.01
<A NAME="pgfId-255131"></A>     log_k   -9.0
<A NAME="pgfId-255132"></A>&nbsp;</PRE>
<P CLASS="BodyText">
<A NAME="pgfId-255133"></A>If the numerical method does not converge with the original set of convergence parameters (either default or user specified), six additional sets of parameters are tried automatically to obtain convergence: (1) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and smaller values for <EM CLASS="Emphasis">
step_size</EM>
 and <EM CLASS="Emphasis">
pe_step_size</EM>
 are used; (2) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and the value of <EM CLASS="Emphasis">
diagonal_scale</EM>
 is switched from false to true or from true to false; (3) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and <EM CLASS="Emphasis">
tol</EM>
 is decreased by a factor of 10.0; (4) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and <EM CLASS="Emphasis">
tol</EM>
 is increased by a factor of 10.0; (5) <EM CLASS="Emphasis">
iterations</EM>
 is doubled, <EM CLASS="Emphasis">
diagonal_scale</EM>
 is switched, and <EM CLASS="Emphasis">
tol</EM>
 is decreased by a factor of 10.0;and (6) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and the minimum scaled diagonal is increased by a factor of 10.0.</P>
</DIV>
<DIV>
<H3 CLASS="FM4thOrderHeading">
<A NAME="pgfId-255134"></A><STRONG CLASS="Bold">
Example problems</STRONG></H3>
<P CLASS="BodyText">
<A NAME="pgfId-255135"></A>The keyword <STRONG CLASS="Bold">
KNOBS </STRONG>is not used in the example problems.</P>
</DIV>
<HR><P> | <A HREF="final-47.html">Next</A>|| <A HREF="final-45.html">Previous</A> || <A HREF="final.html">Top</A>  | </P>

</BODY>
</HTML>

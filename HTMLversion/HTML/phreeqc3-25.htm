<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 7.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="phreeqc3.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> KNOBS</TITLE><HR><P> | <A HREF="phreeqc3-26.htm">Next</A> || <A HREF="phreeqc3-24.htm">Previous</A> || <A HREF="phreeqc3.htm">Top</A>  | </P></HEAD>
<BODY BGCOLOR="#ffffff">
<H2 CLASS="FM3d-order-node">
<A NAME="50593793_pgfId-714736"></A><STRONG CLASS="Bold">
KNOBS</STRONG>
<A NAME="50593793_79000"></A><A NAME="50593793_95186"></A></H2>
<P CLASS="BodyText">
<A NAME="50593793_pgfId-255069"></A>This keyword data block is used to redefine parameters that affect convergence of the numerical method during speciation, batch-reaction, and transport calculations. The first six identifiers listed can be used to modify the numerical method to try to obtain a numerical solution to the nonlinear equations. The remaining identifiers produce long, uninterpretable output files, which are of little use to the user.</P>
<DIV>
<H6 CLASS="FM4thOrderHeading">
<A NAME="50593793_pgfId-255070"></A><A NAME="50593793_26082"></A>Example data block</H6>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255071"></A>Line 0:  KNOBS </pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255072"></A>Line 1:       -iterations             150</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255073"></A>Line 2:       -convergence_tolerance  1e-8</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-320898"></A>Line 3:       -tolerance              1e-14</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255074"></A>Line 4:       -step_size              10.</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255075"></A>Line 5:       -pe_step_size           5.</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255076"></A>Line 6:       -diagonal_scale         true</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-320980"></A>Line 7:       -debug_diffuse_layer    true</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-320986"></A>Line 8:       -debug_inverse          true</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-320992"></A>Line 9:       -debug_model            true</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255078"></A>Line 10:      -debug_prep             true</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255079"></A>Line 11:      -debug_set              true</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255083"></A>Line 12:      -logfile                true</pre>
</DIV>
<DIV>
<H6 CLASS="FM4thOrderHeading">
<A NAME="50593793_pgfId-255084"></A><A NAME="50593793_59908"></A>Explanation</H6>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255085"></A>Line 0: <STRONG CLASS="Bold">
KNOBS</STRONG>
</P>
<P CLASS="Body1">
<A NAME="50593793_pgfId-255086"></A><STRONG CLASS="Bold">
KNOBS</STRONG>
 is the keyword for the data block. Optionally, <STRONG CLASS="Bold">
DEBUG</STRONG>
.</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255087"></A>Line 1: <STRONG CLASS="Bold">
-iterations</STRONG>
 <EM CLASS="Emphasis">
iterations</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255088"></A><STRONG CLASS="Bold">
-iterations</STRONG>
--Allows changing the maximum number of iterations. Default is 100 at startup. Optionally, <STRONG CLASS="Bold">
iterations</STRONG>
 or <STRONG CLASS="Bold">
-i</STRONG>
[<STRONG CLASS="Bold">
terations</STRONG>
].</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255089"></A><EM CLASS="Emphasis">
iterations</EM>
--Positive integer limiting the maximum number of iterations used to solve the set of algebraic equations for a single calculation. Values greater than 200 are not usually effective. </P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-320900"></A>Line 2: <STRONG CLASS="Bold">
-convergence_tolerance </STRONG>
<EM CLASS="Emphasis">
convergence_tolerance</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-731782"></A><STRONG CLASS="Bold">
-convergence_tolerance</STRONG>
--Changes the convergence criterion used to determine when the algebraic equations have been solved. For an element mole-balance equation, convergence is satisfied when mole balance is within <EM CLASS="Emphasis">
convergence_tolerance</EM>
 times the total moles of the element (<IMG SRC="phreeqc3-14.png" ALIGN="MIDDLE">
). When the <STRONG CLASS="Bold">
-high_precision</STRONG>
 identifier of <A HREF="phreeqc3-45.htm#50593793_20239" CLASS="XRef">SELECTED_OUTPUT</A> is true, the convergence criterion is set to the smaller of <EM CLASS="Emphasis">
convergence_tolerance</EM>
 and 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-12</Sup>
. Default is 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-8</Sup>
 at startup. Optionally, <STRONG CLASS="Bold">
convergence_tolerance</STRONG>
 or <STRONG CLASS="Bold">
-c</STRONG>
[<STRONG CLASS="Bold">
onvergence_tolerance</STRONG>
].</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-582277"></A><EM CLASS="Emphasis">
convergence_tolerance</EM>
--Tolerance for determining convergence in the nonlinear equation solver. </P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255090"></A>Line 3: <STRONG CLASS="Bold">
-tolerance </STRONG>
<EM CLASS="Emphasis">
tolerance</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-750740"></A><STRONG CLASS="Bold">
-tolerance</STRONG>
--Allows changing the tolerance used by the optimization solver (subroutine cl1) to determine numbers equal to zero. This is <EM CLASS="underline">
not</EM>
 the convergence criterion used to determine when the algebraic equations have been solved. At starutp, default is 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-15</Sup>
 (or possibly smaller if the program is compiled with long double precision). Optionally, <STRONG CLASS="Bold">
tolerance</STRONG>
 or <STRONG CLASS="Bold">
-t</STRONG>
[<STRONG CLASS="Bold">
olerance</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255092"></A><EM CLASS="Emphasis">
tolerance</EM>
--Positive, decimal number used by the optimization solver (subroutine cl1). All numbers smaller than this number are treated as zero. This number should approach the value of the least significant decimal digit that can be interpreted by the computer. The value of tolerance should be on the order of 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-12</Sup>
 to 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-15</Sup>
 for most computers and most simulations. </P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255093"></A>Line 4: <STRONG CLASS="Bold">
-step_size </STRONG>
<EM CLASS="Emphasis">
step_size</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255094"></A><STRONG CLASS="Bold">
-step_size</STRONG>
--Allows changing the maximum step size. At startup, default is 100; activities of master species may change by up to 2 orders of magnitude in a single iteration. Optionally, <STRONG CLASS="Bold">
step_size</STRONG>
 or <STRONG CLASS="Bold">
-s</STRONG>
[<STRONG CLASS="Bold">
tep_size</STRONG>
].</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255095"></A><EM CLASS="Emphasis">
step_size</EM>
--Positive, decimal number limiting the maximum, multiplicative change in the activity of an aqueous master species on each iteration. </P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255096"></A>Line 5: <STRONG CLASS="Bold">
-pe_step_size </STRONG>
<EM CLASS="Emphasis">
pe_step_size</EM>
</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255097"></A><STRONG CLASS="Bold">
-pe_step_size</STRONG>
--Allows changing the maximum step size for the activity of the electron. Optionally, <STRONG CLASS="Bold">
pe_step_size</STRONG>
 or <STRONG CLASS="Bold">
-p</STRONG>
[<STRONG CLASS="Bold">
e_step_size</STRONG>
].</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255098"></A><EM CLASS="Emphasis">
pe_step_size</EM>
--Positive, decimal number limiting the maximum, multiplicative change in the conventional activity of electrons on each iteration. Normally, <EM CLASS="Emphasis">
pe_step_size</EM>
 should be smaller than the <EM CLASS="Emphasis">
step_size</EM>
 because redox species are particularly sensitive to changes in pe. Default is 10; that is, <IMG SRC="phreeqc3-15.png" ALIGN="MIDDLE">
 may change by up to 1 order of magnitude in a single iteration or pe may change by up to 1 unit.</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255102"></A>Line 6: <STRONG CLASS="Bold">
-diagonal_scale</STRONG>
 [(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255103"></A><STRONG CLASS="Bold">
-diagonal_scale</STRONG>
--Allows changing the default method for scaling equations. Invoking this alternative method of scaling causes any mole-balance equations with the diagonal element (approximately the total concentration of the element or element valence state in solution) less than 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-10</Sup>
 to be scaled by the reciprocal of the diagonal element. Default is <STRONG CLASS="Bold">
false</STRONG>
 at startup. Optionally, <STRONG CLASS="Bold">
diagonal_scale</STRONG>
 or <STRONG CLASS="Bold">
-d</STRONG>
[<STRONG CLASS="Bold">
iagonal_scale</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-550203"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates the alternative scaling method is to be used; <STRONG CLASS="Bold">
false</STRONG>
 indicates the alternative scaling method will not be used. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-321014"></A>Line 7: <STRONG CLASS="Bold">
-debug_diffuse_layer </STRONG>
[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-321015"></A><STRONG CLASS="Bold">
-debug_diffuse_layer</STRONG>
--Includes debugging prints for diffuse layer calculations. This identifier applies only when <STRONG CLASS="Bold">
-diffuse_layer</STRONG>
 is used in the <A HREF="phreeqc3-52.htm#50593793_56392" CLASS="XRef">SURFACE</A> data block. If this option is set to <STRONG CLASS="Bold">
true</STRONG>
, values of the <EM CLASS="Emphasis">
g</EM>
 function--the surface excess--are printed for each value of charge for aqueous species; the charge(s) for which the value of <EM CLASS="Emphasis">
g</EM>
 has not converged are printed; and the number of iterations needed for the integration, by which <EM CLASS="Emphasis">
g</EM>
 values are calculated, are printed. Default is false at startup. Optionally, <STRONG CLASS="Bold">
debug_diffuse_layer</STRONG>
 or <STRONG CLASS="Bold">
-debug_d</STRONG>
[<STRONG CLASS="Bold">
iffuse_layer</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-550286"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG>
 indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-550287"></A>Line 8: <STRONG CLASS="Bold">
-debug_inverse </STRONG>
[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-321007"></A><STRONG CLASS="Bold">
-debug_inverse</STRONG>
--Includes debugging prints for subroutines called by subroutine <EM CLASS="Emphasis">
inverse_models</EM>
. If this option is set to <STRONG CLASS="Bold">
true</STRONG>
, a large amount of information about the process of finding inverse models is printed. The program will print the following for each set of equations and inequalities that are attempted to be solved by the optimizing solver: a list of the unknowns, a list of the equations, the array that is to be solved, any nonnegativity or nonpositivity constraints on the unknowns, the solution vector, and the residual vector for the linear equations and inequality constraints. The printout is long and not very useful. Default is <STRONG CLASS="Bold">
false</STRONG>
 at startup. Optionally, <STRONG CLASS="Bold">
debug_inverse </STRONG>
or <STRONG CLASS="Bold">
-debug_i</STRONG>
[<STRONG CLASS="Bold">
nverse</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-321008"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG>
 indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-320998"></A>Line 9: <STRONG CLASS="Bold">
-debug_model </STRONG>
[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-320999"></A><STRONG CLASS="Bold">
-debug_model</STRONG>
--Includes debugging prints for subroutines called by subroutine <EM CLASS="Emphasis">
model</EM>
. If this option is set to <STRONG CLASS="Bold">
true</STRONG>
, a large amount of information about the Newton-Raphson iterations is printed. The program will print some or all of the following at each iteration: the array that is solved, the solution vector calculated by the solver, the residuals of the linear equations and inequality constraints, the values of all of the master unknowns and their change, the moles of each pure phase and phase mole transfers, the moles of each element in the system minus the amount in pure phases and the change in this quantity. The printout is long and not very useful. If the numerical method does not converge in <EM CLASS="Emphasis">
iterations</EM>
-1 iterations (default is after 99 iterations), this printout is automatically begun and sent to the log file <EM CLASS="Emphasis">
phreeqc.log</EM>
. Default is <STRONG CLASS="Bold">
false</STRONG>
 at startup. Optionally, <STRONG CLASS="Bold">
debug_model</STRONG>
 or <STRONG CLASS="Bold">
-debug_m</STRONG>
[<STRONG CLASS="Bold">
odel</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-321000"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG>
 indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255108"></A>Line 10: <STRONG CLASS="Bold">
-debug_prep </STRONG>
[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255109"></A><STRONG CLASS="Bold">
-debug_prep</STRONG>
--Includes debugging prints for subroutine <EM CLASS="Emphasis">
prep</EM>
. If this option is set to <STRONG CLASS="Bold">
true</STRONG>
, the chemical equation and log <EM CLASS="Emphasis">
K</EM>
 for each species and phase, as rewritten for the current calculation, are written to the output file. The printout is long and not very useful. Default is <STRONG CLASS="Bold">
false</STRONG>
 at startup. Optionally, <STRONG CLASS="Bold">
debug_prep</STRONG>
 or <STRONG CLASS="Bold">
-debug_p</STRONG>
[<STRONG CLASS="Bold">
rep</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255110"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG>
 indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255111"></A>Line 11: <STRONG CLASS="Bold">
-debug_set </STRONG>
[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255112"></A><STRONG CLASS="Bold">
-debug_set</STRONG>
--Includes debugging prints for subroutines called by subroutine <EM CLASS="Emphasis">
set</EM>
. If this option is set to <STRONG CLASS="Bold">
true</STRONG>
, the initial revisions of the master unknowns (see equation 84, Parkhurst and Appelo, 1999), which occur in subroutine set, are printed for each element or element valence state that fails the initial convergence criteria. The initial revisions occur before the Newton-Raphson method is invoked and attempt to provide good estimates of the master unknowns to the Newton-Raphson method. Default is <STRONG CLASS="Bold">
false</STRONG>
 at startup. Optionally, <STRONG CLASS="Bold">
debug_set</STRONG>
 or <STRONG CLASS="Bold">
-debug_s</STRONG>
[<STRONG CLASS="Bold">
et</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255113"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates the debugging information will be included in the output file; <STRONG CLASS="Bold">
false</STRONG>
 indicates debugging information will not be printed. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
<P CLASS="Body-indent">
<A NAME="50593793_pgfId-255123"></A>Line 12: <STRONG CLASS="Bold">
-logfile </STRONG>
[(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)]</P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255124"></A><STRONG CLASS="Bold">
-logfile</STRONG>
--Prints information to a file named <EM CLASS="Emphasis">
phreeqc.log</EM>
. If this option is set to <STRONG CLASS="Bold">
true</STRONG>
, information about each calculation will be written to the log file. The information includes the number of iterations in revising the initial estimates of the master unknowns, the number of Newton-Raphson iterations, and the iteration at which any infeasible solution was encountered while solving the system of nonlinear equations. (An infeasible solution occurs if no solution to the equality and inequality constraints can be found.) At each iteration, the identity of any species that exceeds 30 mol (an unreasonably large number) is written to the log file and noted as an &#8220;overflow&#8221;. Any basis switches are noted in the log file. The information about infeasible solutions and overflows can be useful for altering other parameters defined through the <STRONG CLASS="Bold">
KNOBS</STRONG>
 data block, as described below. Default is <STRONG CLASS="Bold">
false</STRONG>
 at startup. Optionally, <STRONG CLASS="Bold">
logfile </STRONG>
or <STRONG CLASS="Bold">
-l</STRONG>
[<STRONG CLASS="Bold">
ogfile</STRONG>
]. </P>
<P CLASS="Body1-indent">
<A NAME="50593793_pgfId-255125"></A>(<EM CLASS="Emphasis">
True</EM>
 or <EM CLASS="Emphasis">
False</EM>
)--A value of <STRONG CLASS="Bold">
true</STRONG>
 indicates log information will be written to the file, <EM CLASS="Emphasis">
phreeqc.log</EM>
; <STRONG CLASS="Bold">
false</STRONG>
 indicates log information will not be written. If neither <STRONG CLASS="Bold">
true</STRONG>
 nor <STRONG CLASS="Bold">
false</STRONG>
 is entered on the line, <STRONG CLASS="Bold">
true</STRONG>
 is assumed. Optionally, <STRONG CLASS="Bold">
t</STRONG>
[<STRONG CLASS="Bold">
rue</STRONG>
] or <STRONG CLASS="Bold">
f</STRONG>
[<STRONG CLASS="Bold">
alse</STRONG>
].</P>
</DIV>
<DIV>
<H6 CLASS="FM4thOrderHeading">
<A NAME="50593793_pgfId-255126"></A><A NAME="50593793_72872"></A>Notes</H6>
<P CLASS="BodyText">
<A NAME="50593793_pgfId-255127"></A>Convergence problems are less frequent with PHREEQC version 3 than with previous versions of PHREEQE and PHREEQC; however, they may still occur. The main causes of nonconvergence appear to be (1) calculation of very large molalities in intermediate iterations, (2) accumulation of roundoff errors in simulations involving very small concentrations of elements in solution, and (3) loss of precision in problems with no redox buffering. The first cause can be identified by &#8220;overflow&#8221; messages at iteration 1 or greater that appear in the file <EM CLASS="Emphasis">
phreeqc.log </EM>
(see <STRONG CLASS="Bold">
-logfile </STRONG>
above). This problem can usually be eliminated by decreasing the maximum allowable step sizes from the default values. The second and third causes of nonconvergence can be identified by messages in <EM CLASS="Emphasis">
phreeqc.log</EM>
 that indicate &#8220;infeasible solutions&#8221;. The remedy to these problems is an ongoing investigation, but altering <STRONG CLASS="Bold">
-tolerance</STRONG>
 or <STRONG CLASS="Bold">
-diagonal_scaling </STRONG>
sometimes fixes the problem, and it should be noted that the program attempts several combinations of these parameters automatically before terminating the calculations. Additional iterations (<STRONG CLASS="Bold">
-iterations</STRONG>
) beyond 200 usually do not solve nonconvergence problems. A trick that is sometimes helpful with nonconvergence is to include the following fictitious aqueous species that has a concentration of about 1<EM CLASS="Emphasis">
&#215;</EM>
10<Sup CLASS="Superscript">
-9</Sup>
 and produces terms in the charge-, hydrogen-, and oxygen-balance equations of a magnitude great enough for the solver to solve the equations:</P>
<P CLASS="Body-line">
<A NAME="50593793_pgfId-255128"></A>&nbsp;</P>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255129"></A>SOLUTION_SPECIES</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255130"></A>H2O + 0.01e- = H2O-0.01</pre>
<pre CLASS="ComputerInput"><A NAME="50593793_pgfId-255131"></A>     log_k   -9.0</pre>
<P CLASS="Body-line">
<A NAME="50593793_pgfId-255132"></A>&nbsp;</P>
<P CLASS="BodyText">
<A NAME="50593793_pgfId-255133"></A>If the numerical method does not converge with the original set of convergence parameters (either default or user specified), 12 additional sets of parameters are tried automatically to obtain convergence: (1) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and smaller values for <EM CLASS="Emphasis">
step_size</EM>
 and <EM CLASS="Emphasis">
pe_step_size</EM>
 are used; (2) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and <EM CLASS="Emphasis">
tol</EM>
 is decreased by a factor of 10.0; (3) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and <EM CLASS="Emphasis">
tol</EM>
 is increased by a factor of 10.0; (4) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and the value of <EM CLASS="Emphasis">
diagonal_scale</EM>
 is switched from false to true or from true to false; (5) <EM CLASS="Emphasis">
iterations</EM>
 is doubled, <EM CLASS="Emphasis">
diagonal_scale</EM>
 is switched, and <EM CLASS="Emphasis">
tol</EM>
 is decreased by a factor of 10.0; (6) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and pure phase columns are scaled; (7) <EM CLASS="Emphasis">
iterations</EM>
 is doubled, pure phase columns are scaled, and <EM CLASS="Emphasis">
diagonal_scale</EM>
 is switched from false to true or from true to false; (8) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and the scaling is increased by a factor of 10.0; (9) only equality constraints are solved for the first five iterations; (10) additional inequality constraints are added to ensure new concentrations are positive; (11) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and <EM CLASS="Emphasis">
tol</EM>
 is decreased by a factor of 100.0; (12) <EM CLASS="Emphasis">
iterations</EM>
 is doubled and <EM CLASS="Emphasis">
tol</EM>
 is decreased by a factor of 1,000.0.</P>
</DIV>
<DIV>
<H6 CLASS="FM4thOrderHeading">
<A NAME="50593793_pgfId-255134"></A><A NAME="50593793_89875"></A>Example problems</H6>
<P CLASS="BodyText">
<A NAME="50593793_pgfId-601375"></A>The keyword <STRONG CLASS="Bold">
KNOBS </STRONG>
is used in example problems <A HREF="phreeqc3-82.htm#50593807_33272" CLASS="XRef">20</A> and <A HREF="phreeqc3-83.htm#50593807_68313" CLASS="XRef">21</A>.</P>
</DIV>
<HR><P> | <A HREF="phreeqc3-26.htm">Next</A> || <A HREF="phreeqc3-24.htm">Previous</A> || <A HREF="phreeqc3.htm">Top</A>  | </P></BODY>
</HTML>
